# rust-claw local environment template
#
# NOTES:
# - Default run path: container + discord
# - Runtime reads process environment first, then falls back to project-root `.env` for missing keys.
# - Default container runtime is Docker (`CONTAINER_BINARY=docker`).
# - Codex auth is passed by mounting `CODEX_AUTH_DIR` after running `codex login` on host.
# - Discord mode responds only for registered groups.
#   Set `AUTO_REGISTER_MAIN_JID` to your actual channel JID (`<channel_id>@discord`).

# Core
ASSISTANT_NAME=Andy
MAIN_GROUP_FOLDER=main
DATA_DIR=./data

# Runtime modes
AGENT_RUNNER_MODE=container
TASK_EXECUTOR_MODE=agent
OUTBOUND_SENDER_MODE=discord

# Runtime intervals
POLL_INTERVAL_MS=2000
SCHEDULER_POLL_INTERVAL_MS=60000
IPC_POLL_INTERVAL_MS=1000
MAX_CONCURRENT_CONTAINERS=5

# Skills (SKILL.md injection)
# SKILL_MAX_BYTES=12000
# SKILL_MAX_COUNT=8

# Container runner (Codex App Server)
CONTAINER_BINARY=docker
CONTAINER_IMAGE=rust-claw-codex-agent:latest
# CODEX_AUTH_DIR=~/.codex
# CODEX_MODEL=
# CODEX_APPROVAL_POLICY=never
# CODEX_SANDBOX_MODE=danger-full-access
# CODEX_ENABLE_SEARCH=true
# PROJECT_ROOT=.
# GROUPS_DIR=./groups
# CONTAINER_TIMEOUT_MS=1800000
# CONTAINER_SYSTEM_START_TIMEOUT_MS=30000

# Discord channel (required when OUTBOUND_SENDER_MODE=discord)
DISCORD_BOT_TOKEN=

# Discord channel (optional)
# DISCORD_RECONNECT_DELAY_MS=5000
DISCORD_PREFIX_OUTBOUND=false

# Auto-register main group on startup
# Effectively required for first run in Discord mode.
# If unset, bootstrap manually:
# cargo run -- bootstrap-main --jid <channel_id>@discord
AUTO_REGISTER_MAIN_JID=123456789012345678@discord

# Cron timezone resolution order:
# 1) TIMEZONE
# 2) TZ
# 3) TASK_TIMEZONE (legacy)
# 4) system timezone
TIMEZONE=Asia/Seoul
# TZ=Asia/Seoul
# TASK_TIMEZONE=Asia/Seoul
