# rust-claw local environment template
#
# NOTES:
# - 기본 실행 경로: container + discord
# - 런타임은 process env를 우선 사용하고, 미설정 키는 프로젝트 루트 `.env`에서 fallback 합니다.
# - 기본 컨테이너 런타임은 Docker(`CONTAINER_BINARY=docker`)입니다.
# - Codex 인증은 호스트에서 `codex login` 후 `CODEX_AUTH_DIR` 마운트로 전달합니다.

# Core
ASSISTANT_NAME=Andy
MAIN_GROUP_FOLDER=main
DATA_DIR=./data

# Runtime modes
AGENT_RUNNER_MODE=container
TASK_EXECUTOR_MODE=agent
OUTBOUND_SENDER_MODE=discord

# Runtime intervals
POLL_INTERVAL_MS=2000
SCHEDULER_POLL_INTERVAL_MS=60000
IPC_POLL_INTERVAL_MS=1000
MAX_CONCURRENT_CONTAINERS=5

# Container runner (Codex App Server)
CONTAINER_BINARY=docker
CONTAINER_IMAGE=rust-claw-codex-agent:latest
# CODEX_AUTH_DIR=~/.codex
# CODEX_MODEL=
# CODEX_APPROVAL_POLICY=never
# CODEX_SANDBOX_MODE=danger-full-access
# CODEX_ENABLE_SEARCH=true
# PROJECT_ROOT=.
# GROUPS_DIR=./groups
# CONTAINER_TIMEOUT_MS=1800000
# CONTAINER_SYSTEM_START_TIMEOUT_MS=30000

# Discord channel (required when OUTBOUND_SENDER_MODE=discord)
DISCORD_BOT_TOKEN=

# Discord channel (optional)
# DISCORD_RECONNECT_DELAY_MS=5000
# DISCORD_PREFIX_OUTBOUND=true

# Optional container credentials (passed into agent container by allowlist)
# OPENAI_API_KEY=
# CONTAINER_ALLOWED_CREDENTIAL_KEYS_JSON=["OPENAI_API_KEY"]

# Auto-register main group on startup (optional)
# AUTO_REGISTER_MAIN_JID=123456789012345678@discord

# Cron timezone resolution order:
# 1) TIMEZONE
# 2) TZ
# 3) TASK_TIMEZONE (legacy)
# 4) system timezone
# TIMEZONE=Asia/Seoul
# TZ=Asia/Seoul
# TASK_TIMEZONE=Asia/Seoul
